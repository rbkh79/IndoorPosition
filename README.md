# ارزیابی مقایسه‌ای استراتژی‌های تلفیق برای موقعیت‌یابی داخلی مبتنی بر PDR و Wi-Fi

این مخزن (Repository) شامل کدهای پیاده‌سازی شده برای پایان‌نامه کارشناسی ارشد با عنوان "ارزیابی مقایسه‌ای و بهینه‌سازی استراتژی‌های تلفیق ساده و تطبیقی برای موقعیت‌یابی داخلی مبتنی بر PDR و اثر انگشت Wi-Fi" است. این پروژه به صورت یک نوت‌بوک Jupyter/Google Colab (`.ipynb`) سازماندهی شده است که تمام مراحل، از خواندن داده تا تحلیل نهایی نتایج را پوشش می‌دهد.

## 🎯 هدف اصلی پروژه

این پژوهش با هدف یافتن مؤثرترین استراتژی برای تلفیق داده‌های حسگرهای اینرسی (PDR) و اثر انگشت سیگنال Wi-Fi (RSSI) برای موقعیت‌یابی دقیق در فضاهای داخلی انجام شده است. تمرکز اصلی بر مقایسه عملکرد یک **فیلتر کالمن استاندارد و بهینه‌سازی شده** با **روش‌های تلفیق تطبیقی و هوشمند** مبتنی بر یادگیری ماشین است.

## 📊 مجموعه داده‌ها

این پروژه از دو مجموعه داده استاندارد استفاده می‌کند:
1.  **دیتاست اصلی (IPIN 2023 Track 3):** برای توسعه و ارزیابی سیستم تلفیقی PDR و RSSI. این دیتاست شامل داده‌های همزمان IMU، Wi-Fi و Ground Truth است.
2.  **دیتاست اعتبارسنجی (BLE-AR Kaggle):** برای ارزیابی مجزای الگوریتم‌های اثر انگشت (k-NN در مقابل XGBoost) و نشان دادن قدرت تعمیم‌پذیری.

## 🚀 نوآوری و یافته‌های کلیدی

- **دستیابی به دقت بالا:** با بهینه‌سازی دقیق پارامترهای یک فیلتر کالمن استاندارد، به خطای میانگین (RMSE) **۱.۹۷ متر** دست یافتیم که یک نتیجه بسیار رقابتی است.
- **ارزیابی انتقادی روش‌های تطبیقی:** به صورت تجربی نشان داده شد که روش‌های پیچیده‌تر (مانند فیلتر تطبیقی با GPR و فیلتر مقاوم با کورنتروپی) در این شرایط نویزی، عملکردی ضعیف‌تر از مدل ساده و بهینه‌شده داشتند.
- **یافته اصلی:** این پژوهش برتری اصل **"سادگی و مقاومت" (Simplicity and Robustness)** بر "پیچیدگی و حساسیت" (Complexity and Sensitivity) را در طراحی سیستم‌های موقعیت‌یابی برای محیط‌های واقعی نشان می‌دهد.

## ⚙️ ساختار کد و نحوه اجرا

این پروژه در یک نوت‌بوک Jupyter (`.ipynb`) پیاده‌سازی شده و به صورت سلول‌های مرحله به مرحله سازماندهی شده است. برای اجرای کامل، سلول‌ها باید به ترتیب اجرا شوند.

### پیش‌نیازها

- دسترسی به محیط Google Colab یا یک محیط Jupyter با کتابخانه‌های استاندارد علوم داده.
- فایل دیتاست `2023_IPIN_Competition_Track03.zip` در Google Drive شما.
- یک حساب کاربری Kaggle و توکن API برای دانلود دیتاست دوم.

### مراحل اجرا

**فاز ۱: آماده‌سازی داده‌ها**

1.  **سلول ۱: اتصال به درایو و استخراج دیتاست:** این سلول به Google Drive متصل شده و فایل `zip` دیتاست IPIN 2023 را در محیط کاری کولب استخراج می‌کند.
2.  **سلول ۲: خواندن داده‌های آموزشی:** یک تابع پارسر مقاوم، تمام ۵۴ فایل آموزشی را خوانده و دیتافریم‌های `combined_..._df` را می‌سازد.
3.  **سلول ۳: خواندن داده‌های اعتبارسنجی:** همین فرآیند برای داده‌های Validation تکرار می‌شود تا داده‌های "دیده نشده" برای تست آماده شوند.
4.  **سلول ۴: خواندن داده‌های واقعیت زمینی (Ground Truth):** داده‌های موقعیت دقیق از فایل‌های GT خوانده و در دیتافریم `combined_gt_df` ذخیره می‌شوند.

**فاز ۲: ساخت مدل‌ها و سیستم پایه**

5.  **سلول ۵: ساخت نقشه رادیویی:** با استفاده از داده‌های آموزشی، دیتابیس اثر انگشت (`radio_map`) ساخته می‌شود.
6.  **سلول ۶: پیاده‌سازی PDR صحیح:** این سلول یک مسیر آزمایشی را از داده‌های اعتبارسنجی انتخاب کرده و با استفاده از تکنیک‌های پردازش سیگنال (حذف گرانش)، یک مسیر PDR معتبر (`path_x`, `path_y`) تولید می‌کند.
7.  **سلول ۷: اجرای فیلتر کالمن ساده:** مسیر PDR و نقشه رادیویی با یک KF استاندارد تلفیق می‌شوند.
8.  **سلول ۸: بهینه‌سازی KF ساده:** پارامترهای نویز (`Q` و `R`) فیلتر به صورت سیستماتیک تیون شده و بهترین عملکرد (**RMSE = 1.97m**) به عنوان معیار پایه (Benchmark) ثبت می‌شود.

**فاز ۳: آزمایش روش‌های پیشرفته (نوآوری)**

9.  **سلول ۹: آموزش مدل GPR:** یک مدل رگرسیون فرایند گاوسی برای تخمین آنلاین خطای موقعیت‌یابی k-NN آموزش داده می‌شود.
10. **سلول ۱۰: اجرای فیلتر کالمن تطبیقی (GP-AKF):** فیلتر کالمن با استفاده از خروجی مدل GPR برای تنظیم دینامیک ماتریس $R$ اجرا می‌شود.
11. **سلول ۱۱: اجرای فیلتر کالمن مقاوم (MCKF):** یک فیلتر کالمن مبتنی بر معیار کورنتروپی برای مقابله با داده‌های پرت پیاده‌سازی می‌شود.
12. **سلول ۱۲: ارزیابی نهایی و مقایسه جامع:** نتایج RMSE هر سه روش (KF ساده، GP-AKF, MCKF) به صورت عددی و بصری با هم مقایسه شده و یافته‌های نهایی پژوهش استخراج می‌شود.

## 📈 نتایج کلیدی

| روش مورد استفاده | RMSE (متر) | بهبود نسبت به پایه |
| :--- | :--- | :--- |
| فیلتر کالمن ساده (بهینه) | **1.97** | - |
| فیلتر تطبیقی (GP-AKF) | 1.97 | 0.00% |
| فیلتر مقاوم (MCKF) | 5.52 | -180.47% |

این نتایج به وضوح نشان می‌دهند که سیستم پایه بهینه‌سازی شده، بهترین عملکرد را داشته است.

## 👤 نویسنده

*   **رضا بهره‌مند خیرآبادی**
*   دانشجوی کارشناسی ارشد ریاضی کاربردی - علوم داده
*   دانشگاه فردوسی مشهد
